{"version":3,"sources":["webpack:///webpack/bootstrap 3d732a6bdea9e48f6637","webpack:///./lib/entry.js","webpack:///./lib/button.js","webpack:///./lib/channel.js","webpack:///./lib/note.js","webpack:///./lib/soundGenerator.js","webpack:///./lib/modal.js","webpack:///./lib/songs.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;AC7DA;AACA;AACA;AACgC;AAChB;;AAEhB;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,cAAc;;AAEd;AACA,wBAAwB,qBAAqB;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,aAAa;;AAEb;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;;AAEL,KAAK;;AAEL,GAAG;;;;;;;;AC3IH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC,WAAW,sBAAsB,WAAW;AACjF;AACA;;AAEA;AACA,4CAA4C,WAAW;AACvD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,4CAA4C,WAAW;AACvD;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;AC3DA;;AAEA;AACA;AACA;AACA,6CAA6C,WAAW;AACxD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iCAAiC,WAAW;;AAE5C;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AAAA;AAAA;;;;;;;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,oBAAoB,OAAO;;AAE3B;AACA;AACA;AACA,+BAA+B,MAAM;AACrC,SAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;;AAEA;AACA;;;;;AAKA;;;;;;;;ACrDA;AACA;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3d732a6bdea9e48f6637","import Button from './button.js'\nimport Channel from './channel.js'\nimport SoundGenerator from './soundGenerator';\nimport { openModal, closeModal } from './modal';\nimport { SONGS } from './songs.js'\n\ndocument.addEventListener('DOMContentLoaded', ()=> {\n\n\n  // document.getElementById('')\n  let track = SONGS[1].backtrack\n  let guitar = SONGS[1].guitar\n  let numCuts = SONGS[1].numCuts\n\n    let generator = new SoundGenerator(guitar, track);\n\n    generator.generateSounds(numCuts, ()=> {\n\n      let redButton = new Button('red');\n      let yellowButton = new Button('yellow');\n      let blueButton = new Button('blue');\n      let orangeButton = new Button('orange');\n      let greenButton = new Button('green');\n\n      let redChannel = new Channel('red')\n      let blueChannel = new Channel('blue')\n      let yellowChannel = new Channel('yellow')\n      let orangeChannel = new Channel('orange')\n      let greenChannel = new Channel('green')\n\n        let start = document.getElementById('start-button');\n        start.addEventListener('click', () => {\n          startGame();\n        })\n\n        let startGame = () => {\n          let score = 0;\n          closeModal();\n\n          let song = generator.song;\n          window.crowd = generator.crowd;\n\n          let playlist = generator.playlist;\n\n          // setTimeout( () => {\n\n            song.play();\n            crowd.play();\n\n          // }, 2250)\n\n          let timing = 0;\n          for(let i = 0; i < playlist.length; i++){\n            setTimeout( ()=> {\n              let sound = playlist.shift();\n              switch ( Math.floor((Math.random() * 5) + 1 ) ) {\n                case 1:\n                  redChannel.playNotes(sound);\n\n                  break;\n                case 2:\n                  blueChannel.playNotes(sound);\n\n                  break;\n                case 3:\n                  greenChannel.playNotes(sound);\n\n                  break;\n                case 4:\n                  yellowChannel.playNotes(sound);\n\n                  break;\n                case 5:\n                  orangeChannel.playNotes(sound);\n\n                  break;\n                default:\n                  redChannel.playNotes(sound);\n              }\n\n            }, timing * 1000)\n\n            timing += playlist[i].duration();\n          }\n\n        }\n\n\n    window.addEventListener(\"keydown\", (e) => {\n\n      switch (e.keyCode) {\n        case 65:\n          greenButton.pressButton(greenChannel.notes[0], greenChannel.aligned());\n          break\n        case 83:\n          redButton.pressButton(redChannel.notes[0], redChannel.aligned());\n          break\n        case 68:\n          yellowButton.pressButton(yellowChannel.notes[0], yellowChannel.aligned());\n          break;\n        case 70:\n          blueButton.pressButton(blueChannel.notes[0], blueChannel.aligned());\n          break;\n        case 71:\n          orangeButton.pressButton(orangeChannel.notes[0], orangeChannel.aligned());\n          break;\n        case 32:\n          startGame();\n          break;\n        default:\n          console.log('no button here')\n      }\n\n    })\n    window.addEventListener(\"keyup\", (e) => {\n      switch (e.keyCode) {\n        case 65:\n          greenButton.unpressButton();\n          break\n        case 83:\n          redButton.unpressButton();\n          break\n        case 68:\n          yellowButton.unpressButton();\n          break;\n        case 70:\n          blueButton.unpressButton();\n          break;\n        case 71:\n          orangeButton.unpressButton();\n          break;\n        default:\n          console.log('no button here')\n      }\n\n    })\n\n    });\n\n  })\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/entry.js\n// module id = 0\n// module chunks = 0","class Button {\n  constructor(color){\n    this.color = color;\n    this.pressed = false;\n    this.buttonClass = this.buttonClass.bind(this);\n  }\n\n  buttonClass(){\n    const pushed = this.pressed ? `${this.color}-pressed button` : `${this.color}-unpressed button `\n    return pushed;\n  }\n\n  unpressButton(){\n    let button = document.getElementById(`${this.color}-button`);\n    this.pressed = false;\n    button.className = this.buttonClass();\n\n  }\n  updateScore(){\n    let score = document.getElementById('score');\n    let numScore = parseInt(score.innerText) + 10;\n\n    score.innerText = numScore;\n    crowd._volume = numScore / 900;\n    console.log(crowd._volume)\n    crowd.play();\n  }\n\n  pressButton(note, aligned){\n\n    let button = document.getElementById(`${this.color}-button`)\n    this.pressed = true;\n    button.className = this.buttonClass();\n\n    if(note){\n\n      if(!note.sound.playing() && aligned){\n        note.sound.play();\n        this.updateScore();\n      } else if (!aligned){\n        missedSound.play();\n        crowd.stop();\n        crowd._volume = crowd._volume / 2;\n        crowd.play();\n      }\n    } else {\n      missedSound.play()\n    }\n  }\n}\n\n\n\nlet missedSound = new Howl({\n  buffer: true,\n  html5: true,\n  src: ['https://s3.us-east-2.amazonaws.com/guitar-hero/missed_note.mp3']\n})\n\nexport default Button;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/button.js\n// module id = 1\n// module chunks = 0","import Note from './note.js';\n\nexport default class Channel{\n  constructor(color){\n    this.color = color;\n    this.canvas = document.getElementById(`${this.color}`)\n    this.targetPosition = 0;\n    this.playNotes = this.playNotes.bind(this);\n    this.notes = [];\n  }\n\n  fillContext(note){\n    note.ctx = this.canvas.getContext('2d');\n\n    let image = new Image;\n    image.src = `assets/images/${this.color}note.png`;\n\n    note.ctx.drawImage(image, 0, note.pos)\n    note.ctx.clearRect(0, note.pos - 5, 300, 10)\n  }\n\n  playNotes(sound){\n\n    let note = new Note();\n\n    note.sound = sound;\n\n    this.notes.push(note);\n\n    let timer = setInterval( ()=> {\n\n      this.fillContext(note);\n\n      note.pos += 1;\n\n      if(note.pos > 160){\n        this.notes.shift();\n        clearInterval(timer)\n\n      }\n    }, 32)\n\n  }\n\n  aligned() {\n    if(this.notes.length > 0){\n\n      return (this.notes[0].pos > 110 && this.notes[0].pos < 150)\n    }\n  }\n\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/channel.js\n// module id = 2\n// module chunks = 0","class Note{\n  constructor(){\n    this.pos = 0;\n    this.ctx = null;\n    this.sound = null;\n  }\n}\n\n\n\nexport default Note;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/note.js\n// module id = 3\n// module chunks = 0","class SoundGenerator{\n  constructor(url, backtrackUrl){\n    this.backtrackUrl = backtrackUrl;\n    this.song = null;\n    this.url = url;\n    this.playlist = [];\n    this.crowd = null;\n  }\n\n  generateSounds(n, callback){\n    let crowd = new Howl({\n      buffer: true,\n      html5: true,\n      loop: true,\n      volume: 0.0,\n      src: [\"https://s3.us-east-2.amazonaws.com/guitar-hero/crowd.mp3\"]\n    })\n    let song = new Howl({\n      buffer: true,\n      html5: true,\n      src: [this.backtrackUrl]\n    })\n\n      let k = 0;\n      for(let i = 0; i < n; i++) {\n\n        let sound = new Howl({\n          buffer: true,\n          html5: true,\n          src: [this.url + `(${i + 2}).wav`]\n        })\n\n        sound.on('load',() =>{\n          this.playlist[i] = sound\n          k += 1;\n\n          if (k === n && song.state() === \"loaded\" && crowd.state() === \"loaded\") {\n            this.song = song;\n            this.crowd = crowd;\n            console.log('callback being called')\n            callback()\n\n          }\n        })\n\n      }\n\n    }\n  }\n\n\n\n\nexport default SoundGenerator;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/soundGenerator.js\n// module id = 4\n// module chunks = 0","export const openModal = () => {\n   const modal = document.getElementById('modal');\n   modal.className = '';\n}\n\nexport const closeModal = () => {\n  const modal = document.getElementById('modal');\n  const modalContainer = document.getElementById('modal-container');\n  modalContainer.className = 'hidden';\n  modal.className = 'hidden';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/modal.js\n// module id = 5\n// module chunks = 0","export const SONGS = {\n  1: {\n    guitar: `https://s3.us-east-2.amazonaws.com/guitar-hero/iloverockandrollupdated/0+`,\n    backtrack: `https://s3.us-east-2.amazonaws.com/guitar-hero/iloverockandrollupdated/iloverockandrollbackingtrack.mp3`,\n    numCuts: 85,\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/songs.js\n// module id = 6\n// module chunks = 0"],"sourceRoot":""}